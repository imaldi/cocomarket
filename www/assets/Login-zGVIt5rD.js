import{d as h,u as S,f as m,o as x,c as w,a,w as y,g as i,F as _,e,t as g,h as V,E as f,p as b,i as I,j as L,_ as k}from"./index-B9g0HWFr.js";import{u as E}from"./auth-BRfK81dt.js";import"./apiClient-Cq4AAmw1.js";const t=o=>(b("data-v-22089bc2"),o=o(),I(),o),F={class:"container text-center"},N=t(()=>e("div",{class:"login-title"},[e("h1",null,"Sign In"),e("h5",null,"Hi Welcome Back, you've been missed")],-1)),B=t(()=>e("p",{class:"input-title"},"Email",-1)),U={class:"text-danger text-left text-sm mt-0"},C=t(()=>e("p",{class:"input-title"},"Password",-1)),P={class:"text-danger text-left text-sm mt-0"},q=t(()=>e("a",{href:"#/forgotpassword",class:"forgot-password"},"Forgot Password?",-1)),D=t(()=>e("button",{type:"submit",class:"submit-button"},"Sign In",-1)),H=t(()=>e("p",{class:"sign-up-title"},[L(" Don't Have an account? "),e("a",{href:"#/register",class:"sign-up"},"Sign Up")],-1)),j=h({__name:"LoginForm",setup(o){const c=S(),u=E(),n=m(""),r=m(""),v=async()=>{const d={email:n.value,password:r.value};try{const s=await u.login(d);s.error?f({title:"Error",type:"error",duration:2e3,customClass:"errorNotif",message:"Gagal Login"}):(f({title:"Sukses",type:"success",duration:2e3,customClass:"successNotif",message:"Berhasil Login!"}),localStorage.setItem("token",s.access_token),localStorage.setItem("user_id",s.user.id),c.push("/home"))}catch{}};return(d,s)=>(x(),w("div",F,[N,a(i(V),{autocomplete:"off",onSubmit:v,class:"login-form"},{default:y(({errors:p})=>[B,a(i(_),{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=l=>n.value=l),name:"Username",type:"text",class:"input-field",placeholder:"Email",rules:"required"},null,8,["modelValue"]),e("p",U,g(p.Username),1),C,a(i(_),{type:"password",name:"password",modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=l=>r.value=l),placeholder:"Password",class:"input-field",rules:"required|minLength:8|maxLength:12"},null,8,["modelValue"]),e("p",P,g(p.password),1),q,D]),_:1}),H]))}}),A=k(j,[["__scopeId","data-v-22089bc2"]]),W=h({__name:"Login",setup(o){return(c,u)=>(x(),w("div",null,[a(A)]))}});export{W as default};

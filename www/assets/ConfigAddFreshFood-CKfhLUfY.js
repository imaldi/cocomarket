import{_ as D}from"./meat1-Dm4ZR8Pd.js";import{e as y,u as A,A as F,f as m,l as I,r as $,o as i,c as l,d as t,g as j,a as d,s as q,x as B,t as n,b as R,p as T,j as E,_ as L}from"./index-ChTS1shc.js";import{u as N}from"./category-D4Gs64Qq.js";import{u as P}from"./cart-BHCqvC6r.js";import"./apiClient-CjKOsRA0.js";const _=r=>(T("data-v-56abc41d"),r=r(),E(),r),V={class:"container"},G={class:"bg-white shadow-md rounded-xl p-8"},M={class:"flex"},U=_(()=>t("div",{class:"w-full justify-center flex font-bold"},"Shopping Cart",-1)),z={class:"mx-8 pt-4 h-screen overflow-y"},H={class:"scrollable-content"},J=_(()=>t("div",{class:"bg-gray rounded-lg"},[t("img",{src:D,alt:""})],-1)),K={class:"flex justify-between w-full"},O={class:"ml-4 my-auto"},Q={class:"font-500"},W={class:"text-gray"},X={class:"flex font-bold"},Y=_(()=>t("div",null,"Rp.",-1)),Z={class:"ml-4 my-auto"},tt=["onClick"],ot={class:"p-2 text-gray"},et=["onClick"],st=["onClick"],at={class:"relative"},ct={class:"fixed w-full bg-white rounded-lg shadow-md",style:{bottom:"4em"}},rt={key:0,class:"flex w-full justify-between p-4"},nt={class:"my-auto"},it=_(()=>t("div",null,"Total Price",-1)),lt={class:"font-500"},dt=_(()=>t("div",{class:"text-2xl text-white"},"Continue",-1)),_t=[dt],ut=y({__name:"ConfigAddFreshFoodForm",setup(r){const u=A(),h=F(),C=N(),p=P(),c=m([]),v=m([]),w=e=>{var o=[];e.forEach(s=>{o.push({products_id:s.products_id,qty:s.total})});try{p.putToCart({data:o},e[0].carts_id),u.push("/checkout")}catch{}},x=()=>{let e=0;return c.value.forEach(o=>{e+=o.products_price*o.total}),e.toLocaleString("en-US",{useGrouping:!0}).replace(/,/g,".")},b=async e=>{try{const o=await C.getProductByCategory(e);v.value=new Array(o.data.length).fill(1),c.value=o.data}catch(o){console.log(o)}},k=async e=>{try{const o=await p.getCartDetail(e);c.value=o.data}catch(o){console.log(o)}},S=e=>{c.value.splice(e,1),v.value.splice(e,1)};return I(()=>{b(h.params.id),k(h.params.id)}),(e,o)=>{const s=$("icon");return i(),l("div",null,[t("div",V,[t("div",G,[t("div",M,[t("div",{onClick:o[0]||(o[0]=a=>j(u).back())},[d(s,{icon:"ion:arrow-back-circle-outline",color:"#000",width:"28",height:"28"})]),U])]),t("div",z,[t("div",H,[(i(!0),l(q,null,B(c.value,(a,g)=>(i(),l("div",{key:g,class:"flex shadow-md p-4 rounded-md"},[J,t("div",K,[t("div",O,[t("div",Q,n(a.products_name),1),t("div",W,n(a.products_subtitle),1),t("div",X,[Y,t("div",null,n(a.products_price.toLocaleString().replace(/,/g,".")),1)])]),t("div",Z,[t("div",{onClick:f=>a.total--},[d(s,{icon:"mage:minus-square",color:"#7ACDD6",width:"28",height:"28"})],8,tt),t("div",ot,n(a.total),1),t("div",{onClick:f=>a.total++},[d(s,{icon:"mage:plus-square",color:"#7ACDD6",width:"28",height:"28"})],8,et),t("div",{onClick:f=>S(g)},[d(s,{icon:"mage:trash",color:"#7ACDD6",width:"28",height:"28"})],8,st)])])]))),128))])]),t("div",at,[t("div",ct,[c.value?(i(),l("div",rt,[t("div",nt,[it,t("div",lt,"Rp. "+n(x()),1)]),t("div",{onClick:o[1]||(o[1]=a=>w(c.value)),class:"flex p-4 mr-8 rounded-2xl bg-primary w-1/2 justify-center"},_t)])):R("",!0)])])])])}}}),ht=L(ut,[["__scopeId","data-v-56abc41d"]]),yt=y({__name:"ConfigAddFreshFood",setup(r){return(u,h)=>(i(),l("div",null,[d(ht)]))}});export{yt as default};

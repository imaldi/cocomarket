import{_ as j}from"./template-food-cP3At1sj.js";import{e as v,y as D,u as I,A as S,f as d,l as F,r as N,o as n,c as r,d as t,g as R,a as u,s as $,x as B,t as c,b as A,p as L,j as V,_ as q}from"./index-4IDQ8Fy6.js";import{u as P}from"./category-CORIdDn8.js";import{u as W}from"./cart-lzIJPz7Y.js";import{r as E}from"./rupiah-BNQWmXyR.js";import"./apiClient-Duzv9xlq.js";const G=i=>(L("data-v-9483445e"),i=i(),V(),i),M={class:"container"},T={class:"bg-white shadow-md rounded-xl p-8"},z={class:"flex"},H=G(()=>t("div",{class:"w-full justify-center flex font-bold"},"Find Fresh Food",-1)),J={class:"mx-8"},K={class:"grid grid-cols-2 gap-6"},O=["onClick"],Q=["src"],U={key:1,src:j,width:"80",height:"80",class:"w-full justify-center",alt:""},X={class:"flex justify-between"},Y={class:"font-500"},Z={class:"fixed w-full bg-white rounded-lg shadow-md",style:{bottom:"0.5em"}},tt={class:"flex w-full justify-between p-4"},et={class:"flex p-4 mr-8 rounded-2xl bg-primary w-full justify-center text-white"},ot={class:"flex justify-between w-full"},st={class:"my-auto"},at={class:"font-bold text-xl"},lt={class:"text-xs"},nt={class:"flex my-auto"},rt={class:"text-2xl font-bold mr-2"},it=v({__name:"DetailCategoryForm",setup(i){const p=D(()=>{if(s.value){const o=parseFloat(s.value.amount);return E(o)}return"Rp. 0"}),_=I(),g=S(),y=P(),w=W(),f=d([]),x=d([]),h=d([]),s=d(null),b=async()=>{try{const o=await w.getCartTotal();s.value=o.data,h.value=s.value.products.map(a=>a.name.replace(/\d+/g,""));const e=h.value.map(a=>a.replace(/\d+/g,""));console.log(e)}catch(o){console.log(o)}finally{}},m=o=>{_.push(`/freshfooddetail/${o}`)},C=async o=>{try{const e=await y.getProductByCategory(o);x.value=new Array(e.data.length).fill(1),f.value=e.data}catch(e){console.log(e)}};return F(()=>{C(g.params.id),b()}),(o,e)=>{const a=N("icon");return n(),r("div",null,[t("div",M,[t("div",T,[t("div",z,[t("div",{onClick:e[0]||(e[0]=l=>R(_).push("/findfreshfood"))},[u(a,{icon:"ion:arrow-back-circle-outline",color:"#000",width:"28",height:"28"})]),H])]),t("div",J,[t("div",null,[t("div",K,[(n(!0),r($,null,B(f.value,(l,k)=>(n(),r("div",{key:k,class:"rounded-xl p-0 mr-6 bg-white",onClick:dt=>m(l.id)},[l.image!==null?(n(),r("img",{key:0,src:l.image,width:"80",height:"80",class:"w-full justify-center",alt:""},null,8,Q)):(n(),r("img",U)),t("div",null,[t("div",null,c(l.name),1)]),t("div",X,[t("div",Y,c(Number(l.price).toLocaleString("id-ID",{style:"currency",currency:"IDR"})),1),u(a,{icon:"iconoir:add-square",color:"#7ACDD6",width:"28",height:"28"})])],8,O))),128))])])]),s.value?(n(),r("div",{key:0,onClick:e[1]||(e[1]=l=>m(s.value.carts_id)),class:"relative"},[t("div",Z,[t("div",tt,[t("div",et,[t("div",ot,[t("div",st,[t("div",at,c(s.value.total)+" Item",1),t("div",lt,c(h.value.join(", ")),1)]),t("div",nt,[t("div",rt,c(p.value),1),u(a,{icon:"tabler:shopping-bag-plus",class:"mr-4",color:"#fff",width:"28",height:"28"})])])])])])])):A("",!0)])])}}}),ct=q(it,[["__scopeId","data-v-9483445e"]]),vt=v({__name:"DetailCategory",setup(i){return(p,_)=>(n(),r("div",null,[u(ct)]))}});export{vt as default};

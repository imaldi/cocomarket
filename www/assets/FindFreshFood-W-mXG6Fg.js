import{d as k,s as R,u as B,f as h,q as P,r as V,o as a,c,e as t,g as w,a as u,x,y as C,t as d,b as q,z,p as W,j as E,_ as G}from"./index-zuEutcRn.js";import{u as M}from"./category-BDmE7OQp.js";import{u as T}from"./cart-6Jy5h4ao.js";import"./apiClient-BnXniK8D.js";const H="/assets/template-food-c69vu9go.jpg",J=(n,_=!0)=>{if(isNaN(n))return"NaN";{const i=n.toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0});return _?i:i.slice(0,-3)}},g=n=>(W("data-v-643490eb"),n=n(),E(),n),K={class:"container"},O={class:"bg-white shadow-md rounded-xl p-8"},Q={class:"flex"},U=g(()=>t("div",{class:"w-full justify-center flex font-bold"}," Find Fresh Food ",-1)),X={class:"flex pt-4"},Y={class:"w-full border border-solid border-gray rounded-full p-2 pl-4 my-auto flex"},Z=g(()=>t("div",{class:"ml-4 my-auto"},"Search Food, Drinks, etc",-1)),tt={class:"my-auto ml-2"},et={class:"bg-light rounded-md p-1"},ot={class:"mx-8"},st=g(()=>t("div",{class:"font-bold"},"Category",-1)),lt={class:"grid grid-cols-2 gap-6"},at=["onClick"],ct=["src"],nt={class:"text-center font-500"},it={class:"mx-8"},rt=g(()=>t("div",{class:"flex justify-between pt-4 pb-4"},[t("div",{class:"font-bold"},"Fresh Vegan")],-1)),dt={class:"grid grid-cols-2 gap-6"},ut=["onClick"],ht=["src"],_t={key:1,src:H,width:"80",height:"80",class:"w-full justify-center",alt:""},ft={class:"flex justify-between"},gt={class:"font-500"},vt={class:"fixed w-full bg-white rounded-lg shadow-md",style:{bottom:"0.5em"}},mt={class:"flex w-full justify-between p-4"},pt={class:"flex p-4 mr-8 rounded-2xl bg-primary w-full justify-center text-white"},yt={class:"flex justify-between w-full"},bt={class:"my-auto"},wt={class:"font-bold text-xl"},xt={class:"text-xs"},Ct={class:"flex my-auto"},kt={class:"text-2xl font-bold mr-2"},Ft=k({__name:"FindFreshFoodForm",setup(n){const _=R(()=>{if(r.value){const e=parseFloat(r.value.amount);return J(e)}return"Rp. 0"}),i=B(),m=M(),F=T(),p=h([]),y=h([]),b=h(!1),j=()=>{b.value=!b.value},S=async()=>{try{const e=await m.getAllCategory();p.value=e.data}catch(e){console.log(e)}finally{}},v=h([]),r=h(null),D=async()=>{try{const e=await F.getCartTotal();r.value=e.data,v.value=r.value.products.map(l=>l.name.replace(/\d+/g,""));const s=v.value.map(l=>l.replace(/\d+/g,""));console.log(s)}catch(e){console.log(e)}finally{}},N=async()=>{try{const e=await m.getAllProduct();y.value=e.data}catch(e){console.log(e)}finally{}},I=e=>{const s=["#eef8f2","#f2eef8","#f8f2ee","#eeeff8"];return s[e%s.length]},$=e=>{i.push(`/configaddfreshfood/${e}`)},A=e=>{i.push(`/freshfooddetail/${e}`)};return P(()=>{S(),N(),D()}),(e,s)=>{const l=V("icon");return a(),c("div",null,[t("div",K,[t("div",O,[t("div",Q,[t("div",{onClick:s[0]||(s[0]=o=>w(i).back())},[u(l,{icon:"ion:arrow-back-circle-outline",color:"#000",width:"28",height:"28"})]),U]),t("div",X,[t("div",Y,[u(l,{icon:"iconamoon:search-light",color:"#000",width:"28",height:"28"}),Z]),t("div",tt,[t("div",et,[u(l,{icon:"fluent:toggle-multiple-16-regular",color:"#7ACDD6",width:"28",height:"28"})])])])]),t("div",ot,[t("div",{class:"flex justify-between pt-4 pb-4"},[st,t("div",{onClick:j,class:"text-gray"},"See all")]),t("div",null,[t("div",lt,[(a(!0),c(x,null,C(p.value,(o,f)=>(a(),c("div",{onClick:L=>$(o.id),key:f,class:"rounded-xl p-6 border border-solid",style:z({backgroundColor:I(f)})},[t("img",{src:o.image,width:"80",height:"80",class:"w-full justify-center",alt:""},null,8,ct),t("div",nt,d(o.name),1)],12,at))),128))])])]),t("div",it,[rt,t("div",null,[t("div",dt,[(a(!0),c(x,null,C(y.value,(o,f)=>(a(),c("div",{key:f,class:"rounded-xl p-0 mr-6 bg-white",onClick:L=>A(o.id)},[o.image!==null?(a(),c("img",{key:0,src:o.image,width:"80",height:"80",class:"w-full justify-center",alt:""},null,8,ht)):(a(),c("img",_t)),t("div",null,[t("div",null,d(o.name),1)]),t("div",ft,[t("div",gt,d(Number(o.price).toLocaleString("id-ID",{style:"currency",currency:"IDR"})),1),u(l,{icon:"iconoir:add-square",color:"#7ACDD6",width:"28",height:"28"})])],8,ut))),128))])])]),r.value?(a(),c("div",{key:0,onClick:s[1]||(s[1]=o=>w(i).push("/checkout")),class:"relative"},[t("div",vt,[t("div",mt,[t("div",pt,[t("div",yt,[t("div",bt,[t("div",wt,d(r.value.total)+" Item ",1),t("div",xt,d(v.value.join(", ")),1)]),t("div",Ct,[t("div",kt,d(_.value),1),u(l,{icon:"tabler:shopping-bag-plus",class:"mr-4",color:"#fff",width:"28",height:"28"})])])])])])])):q("",!0)])])}}}),jt=G(Ft,[["__scopeId","data-v-643490eb"]]),$t=k({__name:"FindFreshFood",setup(n){return(_,i)=>(a(),c("div",null,[u(jt)]))}});export{$t as default};

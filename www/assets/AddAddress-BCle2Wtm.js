import{d as h,f as s,u as S,k as C,r as V,o as g,c as _,e,g as x,a as d,w as N,b as B,F as I,t as j,h as E,n as M,p as P,i as q,_ as H}from"./index-B8-fnmfM.js";import{u as J}from"./address-SQeJe6zW.js";import{P as $}from"./SuccessDialog-DdiBqP1M.js";import"./apiClient-DM8wi-aP.js";const a=l=>(P("data-v-da9cbf87"),l=l(),q(),l),L={class:"container"},O={class:"bg-white shadow-md rounded-xl p-8"},T=a(()=>e("div",{class:"w-full justify-center flex font-bold"},"Add Address",-1)),U=a(()=>e("div",null,[e("div",{class:"w-full"},[e("div",{id:"google-map",style:{height:"300px"}})])],-1)),W={class:"relative"},z={class:"fixed w-full h-[54vh] bg-white rounded-lg shadow-md",style:{bottom:"0"}},R=a(()=>e("div",{class:"flex justify-center"},[e("div",{class:"bg-gray rounded-full w-20 h-1 m-2"})],-1)),Z={class:"mt-4 px-10"},G=M('<div data-v-da9cbf87><div class="flex font-semibold text-gray" data-v-da9cbf87> Save an address as <div class="text-red" data-v-da9cbf87>*</div></div></div><div class="flex my-4" data-v-da9cbf87><div class="px-4 py-2 bg-[#7ACDD6] rounded-2xl font-semibold text-white text-sm" data-v-da9cbf87> Home </div><div class="px-4 py-2 bg-[#D9D9D9] rounded-2xl font-semibold text-black text-sm mx-2" data-v-da9cbf87> Work </div><div class="px-4 py-2 bg-[#D9D9D9] rounded-2xl font-semibold text-black text-sm" data-v-da9cbf87> Other </div></div>',2),K=a(()=>e("div",{class:"flex font-semibold text-black mb-3"},"Address Detail",-1)),Q={class:"rounded-xl flex bg-[#F2F2F2] justify-between px-6 my-0 py-0"},X={class:"flex items-center justify-center"},Y={key:0,class:"text-red-500 text-sm"},ee={class:"text-danger text-left text-sm mt-0"},te=a(()=>e("input",{class:"w-5/6l border-0 rounded-xl bg-[#F2F2F2] px-6 py-4",type:"text",name:"",id:"",placeholder:"Other"},null,-1)),oe=a(()=>e("button",{type:"submit",class:"my-8 w-full flex justify-around px-10 py-4 bg-[#EFFDFF] border-dotted border-2 rounded-3xl border-[#7ACDD6] text-[#7ACDD6]"}," Save Address ",-1)),se=h({__name:"AddAddressForm",setup(l){const c=s(!1),p=s(!1),w=J(),f=s(""),u=s(0),m=s(0),F=async()=>{if(!u||!m){console.error("Latitude and longitude are required.");return}if(!u||!m){p.value=!0;return}const r={latitude:u.value,longitude:m.value,name:f.value};try{const t=await w.addAddress(r);console.log(t),c.value=!0}catch(t){console.error("Error adding address:",t)}},A=()=>{b.push("/profile")},b=S(),y=s(null);let n=null,v=null;const D=()=>{const r=document.getElementById("google-map");if(!r)return;n=new google.maps.Map(r,{center:{lat:-7.797068,lng:110.370529},zoom:15});const t=new google.maps.places.Autocomplete(y.value,{types:["geocode"]});t.addListener("place_changed",()=>{const o=t.getPlace();!o.geometry||!o.geometry.location||(n&&(n.setCenter(o.geometry.location),n.setZoom(15),v&&v.setMap(null),v=new google.maps.Marker({map:n,position:o.geometry.location,title:o.name||o.formatted_address})),u.value=o.geometry.location.lat(),m.value=o.geometry.location.lng())})};return C(()=>{D()}),(r,t)=>{const o=V("icon");return g(),_("div",null,[e("div",L,[e("div",O,[e("div",{class:"flex",onClick:t[0]||(t[0]=i=>x(b).push("profile"))},[e("div",null,[d(o,{icon:"ion:arrow-back-circle-outline",color:"#000",width:"28",height:"28"})]),T])]),U,e("div",W,[e("div",z,[R,e("div",Z,[G,e("div",null,[K,d(x(E),{onSubmit:t[2]||(t[2]=i=>F()),class:"text-xs",action:""},{default:N(({errors:i})=>[e("div",Q,[e("input",{ref_key:"autocompleteInput",ref:y,class:"w-5/6 border-none rounded-xl bg-[#F2F2F2] px-0 py-2 my-2",type:"text",name:"address",rules:"required",id:"",placeholder:"Street Name, Building, Home Number"},null,512),e("div",X,[d(o,{class:"rounded-full py-2",icon:"mingcute:right-line",width:"15",color:"gray"})]),p.value?(g(),_("div",Y," Wajib Diisi !. ")):B("",!0)]),d(x(I),{class:"w-5/6 border-0 rounded-xl bg-[#F2F2F2] px-6 py-4 my-2",type:"text",name:"namaJalan",rules:"required",modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=k=>f.value=k),id:"",placeholder:"Street Name, Building, Home Number"},null,8,["modelValue"]),e("p",ee,j(i.namaJalan),1),te,oe]),_:1})])])])]),d($,{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=i=>c.value=i),message:"Address Add Successfully",title:"Back To Profile",onConfirm:A},null,8,["modelValue"])])])}}}),de=H(se,[["__scopeId","data-v-da9cbf87"]]),ie=h({__name:"AddAddress",setup(l){return(c,p)=>(g(),_("div",null,[d(de)]))}});export{ie as default};

import{_ as I}from"./template-food-cP3At1sj.js";import{d as m,y as S,u as j,B as F,f as u,k as N,r as $,o as i,c as n,e as t,g as B,a as _,q as R,s as q,t as c,b as L,p as V,i as A,_ as G}from"./index-B8-fnmfM.js";import{u as P}from"./category-DXe9U44n.js";import{u as W}from"./cart-D-MQwuk2.js";import{r as E}from"./rupiah-BNQWmXyR.js";import"./apiClient-DM8wi-aP.js";const M=r=>(V("data-v-71829d58"),r=r(),A(),r),T={class:"container"},z={class:"bg-white shadow-md rounded-xl p-8"},H={class:"flex"},J=M(()=>t("div",{class:"w-full justify-center flex font-bold"},"Find Fresh Food",-1)),K={class:"mx-8"},O={class:"grid grid-cols-2 gap-6"},Q=["onClick"],U=["src"],X={key:1,src:I,width:"80",height:"80",class:"w-full justify-center",alt:""},Y={class:"flex justify-between"},Z={class:"font-500"},tt={class:"fixed w-full bg-white rounded-lg shadow-md",style:{bottom:"0"}},et={class:"flex w-full justify-between p-4"},ot={class:"flex p-4 mr-8 rounded-2xl bg-primary w-full justify-center text-white"},st={class:"flex justify-between w-full"},at={class:"my-auto"},lt={class:"font-bold text-xl"},it={class:"text-xs"},nt={class:"flex my-auto"},rt={class:"text-2xl font-bold mr-2"},ct=m({__name:"DetailCategoryForm",setup(r){const f=S(()=>{if(s.value){const e=parseFloat(s.value.amount);return E(e)}return"Rp. 0"}),d=j(),v=F(),g=P(),y=W(),p=u([]),w=u([]),h=u([]),s=u(null),x=async()=>{try{const e=await y.getCartTotal();s.value=e.data,h.value=s.value.products.map(a=>a.name.replace(/\d+/g,""));const o=h.value.map(a=>a.replace(/\d+/g,""));console.log(o)}catch(e){console.log(e)}finally{}},C=e=>{d.push(`/freshfooddetail/${e}`)},b=e=>{d.push(`/configaddfreshfood/${e}`)},k=async e=>{try{const o=await g.getProductByCategory(e);w.value=new Array(o.data.length).fill(1),p.value=o.data}catch(o){console.log(o)}};return N(()=>{k(v.params.id),x()}),(e,o)=>{const a=$("icon");return i(),n("div",null,[t("div",T,[t("div",z,[t("div",H,[t("div",{onClick:o[0]||(o[0]=l=>B(d).push("/findfreshfood"))},[_(a,{icon:"ion:arrow-back-circle-outline",color:"#000",width:"28",height:"28"})]),J])]),t("div",K,[t("div",null,[t("div",O,[(i(!0),n(R,null,q(p.value,(l,D)=>(i(),n("div",{key:D,class:"rounded-xl p-0 mr-6 bg-white",onClick:ut=>C(l.id)},[l.image!==null?(i(),n("img",{key:0,src:l.image,width:"80",height:"80",class:"w-full justify-center",alt:""},null,8,U)):(i(),n("img",X)),t("div",null,[t("div",null,c(l.name),1)]),t("div",Y,[t("div",Z,c(Number(l.price).toLocaleString("id-ID",{style:"currency",currency:"IDR"})),1),_(a,{icon:"iconoir:add-square",color:"#7ACDD6",width:"28",height:"28"})])],8,Q))),128))])])]),s.value&&s.value.total!=="0"?(i(),n("div",{key:0,onClick:o[1]||(o[1]=l=>b(s.value.carts_id)),class:"relative"},[t("div",tt,[t("div",et,[t("div",ot,[t("div",st,[t("div",at,[t("div",lt,c(s.value.total)+" Item",1),t("div",it,c(h.value.join(", ")),1)]),t("div",nt,[t("div",rt,c(f.value),1),_(a,{icon:"tabler:shopping-bag-plus",class:"mr-4",color:"#fff",width:"28",height:"28"})])])])])])])):L("",!0)])])}}}),dt=G(ct,[["__scopeId","data-v-71829d58"]]),gt=m({__name:"DetailCategory",setup(r){return(f,d)=>(i(),n("div",null,[_(dt)]))}});export{gt as default};
